extends layout

block append js
  script(src="https://cdn.auth0.com/js/lock-7.9.min.js")
  script(type="text/javascript").
    var lock = new Auth0Lock("#{Auth0.clientID}", 'notebookhub.auth0.com');
    function signin() {
      var host = location.host;
      lock.show({
          callbackURL: 'http://'+host+'/callback?redirect_to=/dispatch'
        });
    ;}

block content
  h1= title
  p Welcome to #{title}
  if user
    p you are authenticated as #{user.displayName}
  else
    p
    | You are unknown please 
    button(onclick="window.signin()") login
